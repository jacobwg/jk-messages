<%= render 'parts/banner' %>


<% if @messages.size == 0 %>
  <div class="container center">
    <div class="row">
      <div class="span12">
        <h1>There were no messages sent on <%= @day.strftime('%B %e, %Y') %></h1>
        <p><a href="#myModal" role="button" class="btn btn-success" data-toggle="modal">Pick Day</a></p>
        <p><%= link_to("&larr; Previous Day".html_safe, '/?day=' + [@day.prev_day.year, @day.prev_day.month, @day.prev_day.day].join('-')) %> |
        <%= link_to("Next Day &rarr;".html_safe, '/?day=' + [@day.next_day.year, @day.next_day.month, @day.next_day.day].join('-')) %></p>
      </div>
    </div>
  </div>
<% else %>
  <div class="container center">
    <div class="row">
      <div class="span12">
        <h1>Messages from <%= @day.strftime('%B %e, %Y') %></h1>
        <p><a href="#myModal" role="button" class="btn btn-success" data-toggle="modal">Pick Day</a></p>
        <%= render 'pagination' %>
      </div>
    </div>
  </div>


  <div class="container">
    <div class="row">
      <div class="span12">
        <div id="content">
          <%= render(@messages) %>
        </div>
      </div>
    </div>
  </div>

  <div class="container center">
    <div class="row">
      <div class="span12">
        <%= render 'pagination' %>
      </div>
    </div>
  </div>

<% end %>

<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Choose Day</h3>
  </div>
  <div class="modal-body center">
    <div class="datepicker">
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Cancel</button>
  </div>
</div>

<script type="text/javascript">
  window.defaultDate = new Date(<%= @day.year %>, <%= @day.month %> - 1, <%= @day.day %>);
  window.maxDate = new Date(<%= @last_day.year %>, <%= @last_day.month %> - 1, <%= @last_day.day %>);
</script>